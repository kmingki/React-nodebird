{"ast":null,"code":"import { useEffect, useMemo } from 'react';\nimport UPDATE_ROOM_LIST from './../reducers/chat';\nexport const useJoinRoom = (socket, id) => {\n  const requestJoin = () => {\n    socket.emit('joinRoom', id);\n  };\n\n  useEffect(requestJoin, []);\n};\n/*\r\nexport const useWantingRoom = (socket, userId, dispatch) => {\r\n    const ms = useMemo(()=>socket, [socket]);\r\n\r\n    const roomData = () => {\r\n        ms.emit('roomListDataRequest', userId, (res) => {\r\n            dispatch({\r\n                type: UPDATE_ROOM_LIST,\r\n                data: res.rooms\r\n            });\r\n        })\r\n\r\n        ms.on('updateRoomList', (room)=>{\r\n            const users = room.participants;\r\n\r\n            users.forEach(u => {\r\n                if (u.id === userId) {\r\n                    dispatch({\r\n                        type: UPDATE_ROOM_LIST,\r\n                        data: [...rooms, room]\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    useEffect(roomData, []);\r\n};\r\n*/","map":{"version":3,"sources":["C:/Users/User/Desktop/chatter/chatter/front/hooks/chatHooks.js"],"names":["useEffect","useMemo","UPDATE_ROOM_LIST","useJoinRoom","socket","id","requestJoin","emit"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,OAApB,QAAmC,OAAnC;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,MAAD,EAASC,EAAT,KAAgB;AACvC,QAAMC,WAAW,GAAG,MAAM;AAEtBF,IAAAA,MAAM,CAACG,IAAP,CAAY,UAAZ,EAAwBF,EAAxB;AACH,GAHD;;AAKAL,EAAAA,SAAS,CAACM,WAAD,EAAc,EAAd,CAAT;AACH,CAPM;AAQP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { useEffect, useMemo } from 'react';\r\nimport UPDATE_ROOM_LIST from './../reducers/chat';\r\n\r\nexport const useJoinRoom = (socket, id) => {\r\n    const requestJoin = () => {\r\n       \r\n        socket.emit('joinRoom', id);\r\n    };\r\n\r\n    useEffect(requestJoin, []);\r\n};\r\n/*\r\nexport const useWantingRoom = (socket, userId, dispatch) => {\r\n    const ms = useMemo(()=>socket, [socket]);\r\n\r\n    const roomData = () => {\r\n        ms.emit('roomListDataRequest', userId, (res) => {\r\n            dispatch({\r\n                type: UPDATE_ROOM_LIST,\r\n                data: res.rooms\r\n            });\r\n        })\r\n\r\n        ms.on('updateRoomList', (room)=>{\r\n            const users = room.participants;\r\n\r\n            users.forEach(u => {\r\n                if (u.id === userId) {\r\n                    dispatch({\r\n                        type: UPDATE_ROOM_LIST,\r\n                        data: [...rooms, room]\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    useEffect(roomData, []);\r\n};\r\n*/"]},"metadata":{},"sourceType":"module"}